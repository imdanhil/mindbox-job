В проекте приведен пример yaml-манифеста для развертывания веб-приложения в Kubernetes, учитывающий предоставленные вводные данные. Комментарии к коду помечены символом #.

В манифесте определен Deployment для развертывания приложения с 4 репликами. Каждый под приложения запрашивает 0.1 CPU и фиксированные 128 МБ памяти, а также имеет лимиты на использование 0.5 CPU и 128 МБ памяти. Это позволяет начинать с меньших ресурсов, и выделять им только те ресурсы, которые действительно необходимы.

Для отказоустойчивости определен HorizontalPodAutoscaler, который масштабирует количество реплик в зависимости от текущей загрузки.

Добавлен CronJob, который позволяет выполнять задания на один раз в день, например, для запуска ресурсоемкой индексации базы данных или выполнения каких-то других задач, которые необходимо делать ежедневно, но которые не должны выполняться в рабочую смену и потому могут быть отложены для более подходящего времени.

В помощь к CronJob'у можно добавить обработчик, который будет масштабировать количество реплик приложения в зависимости от периода (день/ночь).
